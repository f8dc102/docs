**tmux**는 터미널에서 여러 세션을 관리할 수 있는 터미널 멀티플렉서입니다. SSH 연결이 끊겨도 작업을 유지할 수 있고, 여러 터미널 창을 하나의 세션에서 관리할 수 있어 매우 유용합니다. **tmux**의 기본 사용법과 주요 명령어를 설명해 드리겠습니다.

### 1. **tmux 설치**

우선, `tmux`를 설치해야 합니다. 대부분의 리눅스 배포판에서 쉽게 설치할 수 있습니다.

- **Ubuntu/Debian**:

  ```bash
  sudo apt install tmux
  ```

- **Fedora**:

  ```bash
  sudo dnf install tmux
  ```

- **macOS (Homebrew)**:

  ```bash
  brew install tmux
  ```

설치가 완료되면, 터미널에서 `tmux` 명령어를 입력하여 사용할 수 있습니다.

### 2. **tmux 기본 사용법**

#### 2.1 **새 세션 생성**

```bash
tmux
```

이 명령어를 입력하면 새로운 `tmux` 세션이 시작됩니다. 세션 내에서 기본적인 터미널 명령어를 실행할 수 있습니다.

#### 2.2 **세션 분리 (detach)**

`tmux` 세션을 계속 실행한 채로 터미널을 나가고 싶을 때는 `Ctrl + b`를 누른 뒤, `d`를 눌러 세션을 분리합니다. 이 상태에서 세션은 백그라운드에서 계속 실행됩니다.

```bash
Ctrl + b, d
```

#### 2.3 **기존 세션에 다시 접속 (attach)**

세션을 분리한 후 다시 접속하려면 다음 명령어를 사용합니다.

```bash
tmux attach-session
```

만약 여러 세션이 있는 경우, 세션 번호를 확인한 후 다시 접속해야 합니다.

```bash
tmux ls  # 실행 중인 tmux 세션 목록 확인
tmux attach-session -t 0  # 0번 세션에 다시 접속
```

#### 2.4 **tmux 종료**

세션을 종료하려면 `exit` 명령어로 세션을 종료하거나, `Ctrl + d`를 누르면 됩니다.

```bash
exit
```

---

### 3. **창(Windows)과 창 분할(Panes)**

`tmux`는 하나의 세션에서 여러 개의 창과 분할된 창을 사용할 수 있습니다.

#### 3.1 **새 창 만들기**

`Ctrl + b`를 누른 후 `c`를 누르면 새로운 창을 생성할 수 있습니다.

```bash
Ctrl + b, c
```

- 각 창은 고유한 번호가 부여되며, 해당 창에서 명령어를 실행할 수 있습니다.

#### 3.2 **창 전환**

다음 명령어를 사용하여 창을 전환할 수 있습니다.

- **다음 창으로 이동**:

  ```bash
  Ctrl + b, n
  ```

- **이전 창으로 이동**:

  ```bash
  Ctrl + b, p
  ```

- **특정 창 번호로 이동**:

  ```bash
  Ctrl + b, [창 번호]
  ```

#### 3.3 **창 분할**

`tmux`는 하나의 창을 여러 개의 창으로 분할하여 동시에 여러 작업을 볼 수 있게 해줍니다.

- **창을 가로로 분할** (수평 분할):

  ```bash
  Ctrl + b, "
  ```

- **창을 세로로 분할** (수직 분할):

  ```bash
  Ctrl + b, %
  ```

#### 3.4 **분할된 창 간 전환**

분할된 창 간에 이동하려면 다음 명령어를 사용합니다.

```bash
Ctrl + b, 화살표 키
```

화살표 키를 사용해 원하는 창으로 이동할 수 있습니다.

#### 3.5 **분할된 창 닫기**

분할된 창을 닫으려면 해당 창에서 `exit`을 입력하거나 `Ctrl + d`를 누릅니다.

---

### 4. **세션, 창, 분할 관리**

#### 4.1 **세션 목록 보기**

현재 실행 중인 세션 목록을 확인하려면 다음 명령어를 사용합니다.

```bash
tmux ls
```

#### 4.2 **새로운 세션 만들기**

특정 이름을 가진 새 세션을 만들려면 다음 명령어를 사용합니다.

```bash
tmux new-session -s 세션이름
```

#### 4.3 **세션 이름 바꾸기**

현재 세션의 이름을 바꾸려면 다음 명령어를 사용합니다.

```bash
Ctrl + b, $
```

새로운 이름을 입력하고 Enter 키를 누릅니다.

#### 4.4 **세션 간 전환**

여러 세션이 실행 중일 때, 특정 세션으로 전환하려면 다음 명령어를 사용합니다.

```bash
tmux switch -t 세션이름
```

#### 4.5 **세션 종료**

세션을 종료하려면 다음 명령어를 사용합니다.

```bash
tmux kill-session -t 세션이름
```

---

### 5. **tmux 구성 파일**

`tmux`의 기본 설정을 변경하려면 홈 디렉토리에 있는 `.tmux.conf` 파일을 수정할 수 있습니다. 이 파일에 다양한 단축키, 스타일, 기본 설정 등을 추가할 수 있습니다.

1. `.tmux.conf` 파일 생성:

   ```bash
   touch ~/.tmux.conf
   ```

2. 파일을 열어 설정을 추가합니다. 예를 들어, `Ctrl + a`를 tmux 명령 접두사로 사용하고 싶다면:

   ```bash
   set-option -g prefix C-a
   unbind C-b
   bind C-a send-prefix
   ```

3. 설정 적용:

   `tmux`가 실행 중이라면 다음 명령어로 설정을 다시 로드할 수 있습니다.

   ```bash
   tmux source-file ~/.tmux.conf
   ```

---

### 6. **유용한 tmux 플러그인**

**tmux** 플러그인 관리자를 통해 기능을 확장할 수 있습니다. 플러그인 관리자를 설치한 후 다양한 플러그인을 설치하여 tmux의 기능을 더 강력하게 만들 수 있습니다.

1. **tmux 플러그인 관리자 설치**:

   ```bash
   git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm
   ```

2. **.tmux.conf에 플러그인 설치 코드 추가**:

   ```bash
   set -g @plugin 'tmux-plugins/tpm'
   set -g @plugin 'tmux-plugins/tmux-sensible'

   run '~/.tmux/plugins/tpm/tpm'
   ```

3. tmux 세션에서 `Ctrl + b, I`를 눌러 플러그인을 설치합니다.

---

### 결론

`tmux`는 SSH를 사용하여 서버에서 작업할 때 매우 유용한 도구입니다. 세션을 유지하면서 여러 터미널 창을 한꺼번에 관리하고, 세션을 분리하거나 다시 연결하는 등의 기능을 통해 효율적인 작업 환경을 제공할 수 있습니다. 기본적인 명령어와 함께 창 분할, 세션 전환, 플러그인 등을 활용하면 더욱 강력한 도구로 사용할 수 있습니다.
